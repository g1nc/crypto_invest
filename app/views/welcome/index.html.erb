<div class="left side-menu">
	<button type="button" class="button-menu-mobile button-menu-mobile-topbar open-left waves-effect">
	    <i class="ion-close"></i>
	</button>

	<!-- LOGO -->
	<div class="topbar-left">
	    <div class="text-center">
	        <!--<a href="index.html" class="logo">Admiry</a>-->
	        <a href="index.html" class="logo"><img src="assets/images/logo.png" height="42" alt="logo"></a>
	    </div>
	</div>

	<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 733px;"><div class="sidebar-inner slimscrollleft" style="overflow: hidden; width: auto; height: 733px;">

	    <div class="user-details">
	        <div class="text-center">
	            <img src="assets/images/users/avatar-1.jpg" alt="" class="rounded-circle">
	        </div>
	        <div class="user-info">
	            <h4 class="font-16">Anderson Barden</h4>
	            <span class="text-muted user-status"><i class="fa fa-dot-circle-o text-success"></i> Online</span>
	        </div>
	    </div>

	    <div id="sidebar-menu" class="active">
	        <ul>
	            <li class="active">
	                <a href="index.html" class="waves-effect active">
	                    <i class="mdi mdi-view-dashboard"></i>
	                    <span> Dashboard <span class="badge badge-primary pull-right">8</span></span>
	                </a>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-buffer"></i> <span> User Interface </span> </a>
	                <ul class="list-unstyled">
	                    <li><a href="ui-buttons.html">Buttons</a></li>
	                    <li><a href="ui-cards.html">Cards</a></li>
	                    <li><a href="ui-tabs-accordions.html">Tabs &amp; Accordions</a></li>
	                    <li><a href="ui-modals.html">Modals</a></li>
	                    <li><a href="ui-images.html">Images</a></li>
	                    <li><a href="ui-alerts.html">Alerts</a></li>
	                    <li><a href="ui-progressbars.html">Progress Bars</a></li>
	                    <li><a href="ui-dropdowns.html">Dropdowns</a></li>
	                    <li><a href="ui-lightbox.html">Lightbox</a></li>
	                    <li><a href="ui-navs.html">Navs</a></li>
	                    <li><a href="ui-pagination.html">Pagination</a></li>
	                    <li><a href="ui-popover-tooltips.html">Popover &amp; Tooltips</a></li>
	                    <li><a href="ui-badge.html">Badge</a></li>
	                    <li><a href="ui-carousel.html">Carousel</a></li>
	                    <li><a href="ui-video.html">Video</a></li>
	                    <li><a href="ui-typography.html">Typography</a></li>
	                    <li><a href="ui-sweet-alert.html">Sweet-Alert</a></li>
	                    <li><a href="ui-grid.html">Grid</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-cube-outline"></i> <span> Advanced UI </span> </a>
	                <ul class="list-unstyled">
	                    <li><a href="advanced-animation.html">Animation</a></li>
	                    <li><a href="advanced-highlight.html">Highlight</a></li>
	                    <li><a href="advanced-rating.html">Rating</a></li>
	                    <li><a href="advanced-nestable.html">Nestable</a></li>
	                    <li><a href="advanced-alertify.html">Alertify</a></li>
	                    <li><a href="advanced-rangeslider.html">Range Slider</a></li>
	                    <li><a href="advanced-sessiontimeout.html">Session Timeout</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-album"></i> <span> Icons </span> </a>
	                <ul class="list-unstyled">
	                    <li><a href="icons-material.html">Material Design</a></li>
	                    <li><a href="icons-ion.html">Ion Icons</a></li>
	                    <li><a href="icons-fontawesome.html">Font Awesome</a></li>
	                    <li><a href="icons-themify.html">Themify Icons</a></li>
	                    <li><a href="icons-dripicons.html">Dripicons</a></li>
	                    <li><a href="icons-typicons.html">Typicons Icons</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-clipboard-outline"></i><span> Forms </span></a>
	                <ul class="list-unstyled">
	                    <li><a href="form-elements.html">Form Elements</a></li>
	                    <li><a href="form-validation.html">Form Validation</a></li>
	                    <li><a href="form-advanced.html">Form Advanced</a></li>
	                    <li><a href="form-editors.html">Form Editors</a></li>
	                    <li><a href="form-uploads.html">Form File Upload</a></li>
	                    <li><a href="form-mask.html">Form Mask</a></li>
	                    <li><a href="form-summernote.html">Summernote</a></li>
	                    <li><a href="form-xeditable.html">Form Xeditable</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-chart-line"></i><span> Charts </span></a>
	                <ul class="list-unstyled">
	                    <li><a href="charts-morris.html">Morris Chart</a></li>
	                    <li><a href="charts-chartist.html">Chartist Chart</a></li>
	                    <li><a href="charts-chartjs.html">Chartjs Chart</a></li>
	                    <li><a href="charts-flot.html">Flot Chart</a></li>
	                    <li><a href="charts-c3.html">C3 Chart</a></li>
	                    <li><a href="charts-other.html">Jquery Knob Chart</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-format-list-bulleted-type"></i><span> Tables </span></a>
	                <ul class="list-unstyled">
	                    <li><a href="tables-basic.html">Basic Tables</a></li>
	                    <li><a href="tables-datatable.html">Data Table</a></li>
	                    <li><a href="tables-responsive.html">Responsive Table</a></li>
	                    <li><a href="tables-editable.html">Editable Table</a></li>
	                </ul>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-google-maps"></i><span> Maps </span></a>
	                <ul class="list-unstyled">
	                    <li><a href="maps-google.html"> Google Map</a></li>
	                    <li><a href="maps-vector.html"> Vector Map</a></li>
	                </ul>
	            </li>

	            <li>
	                <a href="calendar.html" class="waves-effect"><i class="mdi mdi-calendar-check"></i><span> Calendar </span></a>
	            </li>

	            <li class="has_sub">
	                <a href="javascript:void(0);" class="waves-effect"><i class="mdi mdi-google-pages"></i><span> Pages </span></a>
	                <ul class="list-unstyled">
	                    <li><a href="pages-timeline.html">Timeline</a></li>
	                    <li><a href="pages-invoice.html">Invoice</a></li>
	                    <li><a href="pages-directory.html">Directory</a></li>
	                    <li><a href="pages-login.html">Login</a></li>
	                    <li><a href="pages-register.html">Register</a></li>
	                    <li><a href="pages-recoverpw.html">Recover Password</a></li>
	                    <li><a href="pages-lock-screen.html">Lock Screen</a></li>
	                    <li><a href="pages-blank.html">Blank Page</a></li>
	                    <li><a href="pages-404.html">Error 404</a></li>
	                    <li><a href="pages-500.html">Error 500</a></li>
	                </ul>
	            </li>

	        </ul>
	    </div>
	    <div class="clearfix"></div>
	</div><div class="slimScrollBar" style="background: rgb(158, 165, 171); width: 10px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 721.193px;"></div><div class="slimScrollRail" style="width: 10px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;"></div></div> <!-- end sidebarinner -->
</div>

<div class="content-page">
	<div class="content">
		<div class="container">
			<div class="row">
				<div class="col-md-3">
					<div class="mini-stat clearfix bg-primary">
		                <span class="mini-stat-icon"><i class="mdi mdi-cart-outline"></i></span>
		                <div class="mini-stat-info text-right text-white">
		                    <span class="counter"><%= current_user.ico %></span>
		                    ICO портфель, $
		                </div>
		            </div>
				</div>
				<div class="col-md-3">
					<div class="mini-stat clearfix bg-primary">
		                <span class="mini-stat-icon"><i class="mdi mdi-cart-outline"></i></span>
		                <div class="mini-stat-info text-right text-white">
		                    <span class="counter"><%= current_user.crypto %></span>
		                    Crypto портфель, $
		                </div>
		            </div>
				</div>
				<div class="col-md-3">
					<div class="mini-stat clearfix bg-primary">
		                <span class="mini-stat-icon"><i class="mdi mdi-cart-outline"></i></span>
		                <div class="mini-stat-info text-right text-white">
		                    <span class="counter"><%= current_user.crypto + current_user.ico %></span>
		                    Общий баланс, $
		                </div>
		            </div>
				</div>
				<div class="col-md-3">
					<div class="mini-stat clearfix bg-primary">
		                <span class="mini-stat-icon"><i class="mdi mdi-cart-outline"></i></span>
		                <div class="mini-stat-info text-right text-white">
		                    <span class="counter"><%= 0 %></span>
		                    Общая доходность, %
		                </div>
		            </div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-6">
					<div class="card m-b-20">
						<div class="card-block">
							<canvas id="ICOs" height="500"></canvas>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="card m-b-20">
						<div class="card-block">
							<canvas id="usersICOs" height="500"></canvas>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer class="footer">
		© 2018 Crypto-Invest
	</footer>
</div>

<script type="text/javascript" charset="utf-8">
  !function($) {
    "use strict";

    var ChartC3 = function() {};

    ChartC3.prototype.init = function () {
      var userIcoNames = [];
      var userIcoValues = [];
      var icoNames = [];
      var icoPercents = [];
      <% @user_icos.each do |user_ico| %>
      userIcoNames.push("<%= user_ico.ico.name.split.join(" ") %>");
      userIcoValues.push(<%= user_ico.value ? user_ico.value : 0 %>);
      <% end %>
      <% @icos.each do |ico| %>
      icoNames.push("<%= ico.name.split.join(" ") %>");
      icoPercents.push(<%= ico.percent ? ico.percent : 10 %>);
      <% end %>

      var barChartICOs = [];
      var barChartICOPercents = ['%'];
      icoNames.forEach(function(name, i) {
        if (userIcoNames.indexOf(name) !== -1) {
          barChartICOs.push(name);
          barChartICOPercents.push(icoPercents[i])
				}
			});

      //Bar Chart
      c3.generate({
        bindto: '#ICOs',
        data: {
          columns: [barChartICOPercents],
					types: {'%': 'bar'},
					colors: {'%': '#83d5b2'}
        },
        legend: {hide: true},
        bar: {width: {ratio: .75}},
        axis: {x: {type: 'category', categories: barChartICOs}}
      });
      console.log(userIcoValues)

      var colors = []
      var kw = new KolorWheel('#83d5b2');
				kw.rel(-10, -10, 15, userIcoValues.length + 1).each(function() {
				colors.push(this.getHex());
      });
      //Pie Chart
      c3.generate({
        bindto: '#usersICOs',
        data: {
          columns:
            [['Crypto', <%= @user.crypto %>]].concat(userIcoNames.map(function(name,i) {
						  console.log([name, userIcoValues[i]]);
						  return [name, userIcoValues[i]];
						}))
          ,
          type : 'pie'
        },
        color: {
          pattern: colors
        },
        pie: {
          label: {
            show: true
          }
        }
      });

    },
      $.ChartC3 = new ChartC3, $.ChartC3.Constructor = ChartC3

  }(window.jQuery),

//initializing
    function($) {
      "use strict";
      $.ChartC3.init()
    }(window.jQuery);
</script>
	<!-- End Right content here -->
<!-- END wrapper -->
<%= javascript_pack_tag 'application' %>